{"version":3,"sources":["components/Selector.js","components/TypePill.js","App.js","index.js"],"names":["Selector","state","pokemon","onSelectPokemon","this","props","setState","selected","data","offset","ListGroup","map","pkmn","i","Item","key","onClick","onSelect","action","className","active","Badge","variant","name","Component","TypePill","type","App","isLoading","error","selectionList","nextURL","prevURL","limit","getPokemon","url","fetch","then","res","json","results","previous","next","catch","finally","getPokedexEntry","species","speciesURL","lang","filtered","flavor_text_entries","filter","entry","language","description","flavor_text","getDetailedStats","params","URL","searchParams","get","Container","Row","Col","style","padding","id","types","typedef","height","weight","src","sprites","front_default","alt","front_shiny","Button","prev","disabled","href","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.dd8b61b5.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport ListGroup from \"react-bootstrap/Listgroup\";\nimport Badge from \"react-bootstrap/Badge\";\n\nclass Selector extends Component {\n  state = {};\n\n  onSelect(pokemon) {\n    const { onSelectPokemon } = this.props;\n    this.setState({ selected: pokemon });\n    onSelectPokemon(pokemon);\n  }\n\n  render() {\n    const { data, offset } = this.props;\n    const { selected } = this.state;\n\n    return (\n      <ListGroup>\n        {data.map((pkmn, i) => (\n          <ListGroup.Item key={i} onClick={() => this.onSelect(pkmn)} action className=\"text-capitalize\" active={pkmn === selected}>\n          <Badge variant={pkmn === selected ? \"light\" : \"secondary\" }>{i + offset + 1}</Badge> {pkmn.name}\n          </ListGroup.Item>\n        ))}\n      </ListGroup>\n    );\n  }\n}\n\nSelector.propTypes = {\n  data: PropTypes.arrayOf(\n    PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      url: PropTypes.string.isRequired\n    })\n  ).isRequired,\n  offset: PropTypes.number.isRequired\n};\n\nexport default Selector;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Badge from \"react-bootstrap/Badge\";\n\nconst TypePill = ({ type }) => {\n  let variant;\n\n  switch(type) {\n    case \"rock\":\n    case \"fairy\":\n    case \"normal\":\n    case \"flying\":\n      variant = \"light\"; \n      break;\n    \n    case \"electric\":\n    case \"fighting\":\n    case \"ground\":\n      variant=\"warning\";\n      break;\n    \n    case \"grass\":\n    case \"poison\":\n    case \"bug\":\n      variant=\"success\";\n      break;\n    \n    case \"steel\":\n      variant=\"secondary\";\n      break;\n    \n    case \"dragon\":\n    case \"fire\":\n      variant=\"danger\";\n      break;\n    \n    case \"water\":\n      variant=\"primary\";\n      break;\n    \n    case \"ice\":\n      variant=\"info\";\n      break;\n    \n    case \"unknown\":\n    case \"ghost\":\n    case \"shadow\":\n    case \"psychic\":\n    case \"dark\":\n      variant=\"dark\";\n      break;\n    \n    default:\n      break; \n  }\n\n  return <Badge variant={variant} className=\"mr-2\">{type}</Badge>\n}\n\nTypePill.propTypes = {\n  type: PropTypes.string.isRequired\n}\n\nexport default TypePill;\n","import React, { Component } from \"react\";\nimport Selector from \"./components/Selector\";\nimport Button from \"react-bootstrap/Button\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Badge from \"react-bootstrap/Badge\";\nimport TypePill from \"./components/TypePill\";\n\nimport \"./App.css\";\n\nclass App extends Component {\n\n  state = {\n    isLoading: false,\n    error: \"\",\n    selected: \"\",\n    selectionList: \"\",\n    nextURL: \"\",\n    prevURL: \"\",\n    offset: 0,\n    limit: 10\n  };\n\n  componentDidMount() {\n    // When the component mounts, grab a bunch of pokemon from the API\n    const { offset, limit } = this.state;\n    this.getPokemon(\n      `https://pokeapi.co/api/v2/pokemon/?limit=${limit}&offset=${offset}`\n    );\n  }\n\n  getPokemon(url) {\n    this.setState({ isLoading: true });\n    fetch(url)\n      .then(res => res.json())\n      .then(res => {\n        this.setState({\n          selectionList: res.results,\n          prevURL: res.previous,\n          nextURL: res.next\n        });\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  }\n\n  getDetailedStats(url) {\n    this.setState({ isLoading: true });\n    fetch(url)\n      .then(res => res.json())\n      .then(res => {\n        this.setState({ selected: res });\n        this.getPokedexEntry(res.species.url);\n        // Get the species and the pokedex entry\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  }\n\n  getPokedexEntry(speciesURL, lang) {\n    this.setState({ isLoading: true }); \n    fetch(speciesURL)\n      .then(res => res.json())\n      .then(species => {\n        const entries = species.flavor_text_entries;\n        const filtered = entries.filter(entry => entry.language.name === \"en\") \n        this.setState({ description: filtered[0].flavor_text });\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  }\n\n  onSelect(pokemon) {\n    this.getDetailedStats(pokemon.url);\n  }\n\n  next() {\n    // Set the offset and limit based on the URL\n    const url = new URL(this.state.nextURL);\n    const params = url.searchParams;\n    const limit = params.get(\"limit\");\n    const offset = params.get(\"offset\");\n    this.setState({ offset, limit });\n    this.getPokemon(this.state.nextURL);\n  }\n\n  prev() {\n    this.getPokemon(this.state.prevURL);\n  }\n\n  render() {\n    const {\n      selected,\n      selectionList,\n      error,\n      isLoading,\n      offset,\n      limit,\n      prevURL,\n      description\n    } = this.state;\n\n    /* \n    The pokedex can have one of two views, the first view is a selection \n    on the right side of the screen, with a portrait of the pokemon on\n    the left side. The second view is invoked when the user \"clicks\" on \n    the pokemon from the scroll list. This view is a horizontal split\n    wherein, on the top is an image of the pokemon, along with some stats.\n    The bottom portion is the description of the pokemon. This view is \n    very similar to the Gen 1 pokedex in the Pokemon games.\n    */\n\n    return (\n      <div className=\"App\">\n        <main className=\"mt-4\">\n          {/* First, if there's an error, display it */}\n          {error && <p>{error}</p>}\n\n          <Container>\n            <Row>\n              <Col>\n                {/* When a pokemon is selected, display the details here */}\n                {isLoading && <div className=\"loader\"></div>}\n                {selected && !isLoading && (\n                  <div style={{ padding: \"1em\" }}>\n                    <h3>\n                      <Badge variant=\"primary\">#{selected.id}</Badge>\n                      <span className=\"ml-2 text-capitalize\">\n                        {selected.name}\n                      </span>\n                    </h3>\n                    {/* Display the type or types */}\n                    {selected.types.map((typedef, i) => (<TypePill key={i} type={typedef.type.name} />))}\n                    <p>\n                      {+selected.height * 10} cm / {+selected.weight / 10} kg\n                    </p>\n\n                    {description && <p>{description}</p>}\n\n                    <img\n                      src={selected.sprites.front_default}\n                      alt={`${selected.name} normal form`}\n                    />\n                    <img\n                      src={selected.sprites.front_shiny}\n                      alt={`${selected.name} shiny form`}\n                    />\n                  </div>\n                )}\n              </Col>\n              <Col>\n                <p className=\"text-muted text-uppercase\">\n                  Displaying {+offset} - {+offset + +limit}\n                </p>\n                \n                {/*\n                For each pokemon that should be shown (there should be a max\n                limit) display them in a list \n                */}\n                {selectionList && (\n                  <Selector\n                    data={selectionList}\n                    onSelectPokemon={pokemon => this.onSelect(pokemon)}\n                    offset={+offset}\n                  />\n                )}\n\n                {/*\n                There should be a scroll up and scroll down action available, doing so should\n                grab the next \"page\" of Pokemon from the API\n              */}\n                <div className=\"mt-3\">\n                  <Button\n                    className=\"mr-2\"\n                    onClick={() => this.prev()}\n                    variant=\"text\"\n                    disabled={!prevURL}\n                  >\n                    Back\n                  </Button>\n                  <Button onClick={() => this.next()} variant=\"text\">\n                    Next\n                  </Button>\n                </div>\n              </Col>\n            </Row>\n          </Container>\n        </main>\n\n        <footer className=\"mt-5\">\n          <Container>\n            <Row>\n              <Col>\n                <p className=\"text-center text-muted\">\n                  Built by <a href=\"https://twitter.com/devnoot\">devnoot</a>{\" \"}\n                  using <a href=\"https://pokespi.co\">PokeAPI</a>\n                </p>\n              </Col>\n            </Row>\n          </Container>\n        </footer>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}