{"version":3,"sources":["components/Selector.js","components/TypePill.js","App.js","index.js"],"names":["Selector","state","voice","pokemon","onSelectPokemon","this","props","setState","selected","onToggleVoice","data","offset","ListGroup","map","pkmn","i","Item","key","onClick","onSelect","action","className","active","Badge","variant","name","FormCheck","id","type","label","checked","onChange","toggleVoice","Component","colors","normal","fire","water","electric","grass","ice","fighting","poison","ground","flying","psychic","bug","rock","ghost","dragon","dark","steel","fairy","unknown","TypePill","style","backgroundColor","App","isLoading","error","selectionList","nextURL","prevURL","limit","getPokemon","window","tts","speechSynthesis","url","fetch","then","res","json","results","previous","next","catch","finally","getPokedexEntry","species","speciesURL","lang","filtered","flavor_text_entries","filter","entry","language","genera","description","flavor_text","genus","getDetailedStats","cancel","params","URL","searchParams","get","text","utterance","SpeechSynthesisUtterance","speak","Container","Row","Col","md","padding","types","typedef","height","weight","src","sprites","front_default","alt","front_shiny","Button","prev","disabled","href","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7085e5be.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport ListGroup from \"react-bootstrap/Listgroup\";\nimport Badge from \"react-bootstrap/Badge\";\nimport FormCheck from \"react-bootstrap/FormCheck\";\n\nclass Selector extends Component {\n  state = {\n    voice: false\n  };\n\n  onSelect(pokemon) {\n    const { onSelectPokemon } = this.props;\n    this.setState({ selected: pokemon });\n    onSelectPokemon(pokemon);\n  }\n\n  toggleVoice() {\n    const { onToggleVoice } = this.props;\n    const { voice } = this.state;\n    this.setState({ voice: !voice }) \n    onToggleVoice(!voice);\n  }\n\n  render() {\n    const { data, offset } = this.props;\n    const { selected, voice } = this.state;\n\n    return (\n      <> \n        <ListGroup>\n          {data.map((pkmn, i) => (\n            <ListGroup.Item\n              key={i}\n              onClick={() => this.onSelect(pkmn)}\n              action\n              className=\"text-capitalize\"\n              active={pkmn === selected}\n            >\n              <Badge variant={pkmn === selected ? \"light\" : \"secondary\"}>\n                {i + offset + 1}\n              </Badge>{\" \"}\n              {pkmn.name}\n            </ListGroup.Item>\n          ))}\n        </ListGroup>\n        <FormCheck \n          id=\"voice-switch\" \n          type=\"switch\" \n          label=\"PokeSam Voice\" \n          checked={voice} \n          onChange={() => this.toggleVoice()} \n          className=\"ml-3 mt-3\"\n        />\n      </>\n    );\n  }\n}\n\nSelector.propTypes = {\n  data: PropTypes.arrayOf(\n    PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      url: PropTypes.string.isRequired\n    })\n  ).isRequired,\n  offset: PropTypes.number.isRequired,\n  onToggleVoice: PropTypes.func,\n  onSelectPokemon: PropTypes.func\n};\n\nexport default Selector;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Badge from \"react-bootstrap/Badge\";\n\nconst colors = {\n  normal: \"#A8A77A\",\n  fire: \"#EE8130\",\n  water: \"#6390F0\",\n  electric: \"#F7D02C\",\n  grass: \"#7AC74C\",\n  ice: \"#96D9D6\",\n  fighting: \"#C22E28\",\n  poison: \"#A33EA1\",\n  ground: \"#E2BF65\",\n  flying: \"#A98FF3\",\n  psychic: \"#F95587\",\n  bug: \"#A6B91A\",\n  rock: \"#B6A136\",\n  ghost: \"#735797\",\n  dragon: \"#6F35FC\",\n  dark: \"#705746\",\n  steel: \"#B7B7CE\",\n  fairy: \"#D685AD\",\n  unknown: \"#68A090\"\n};\n\nconst TypePill = ({ type }) => (\n  <Badge style={{ backgroundColor: colors[type] }} className=\"mr-2\">\n    {type}\n  </Badge>\n);\n\nTypePill.propTypes = {\n  type: PropTypes.string.isRequired\n};\n\nexport default TypePill;\n","import React, { Component } from \"react\";\nimport Selector from \"./components/Selector\";\nimport Button from \"react-bootstrap/Button\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Badge from \"react-bootstrap/Badge\";\nimport TypePill from \"./components/TypePill\";\n\nimport \"./App.css\";\n\nclass App extends Component {\n  state = {\n    isLoading: false,\n    error: \"\",\n    selected: \"\",\n    selectionList: \"\",\n    nextURL: \"\",\n    prevURL: \"\",\n    offset: 0,\n    limit: 10,\n    voice: false\n  };\n\n  componentDidMount() {\n    // When the component mounts, grab a bunch of pokemon from the API\n    const { offset, limit } = this.state;\n    this.getPokemon(\n      `https://pokeapi.co/api/v2/pokemon/?limit=${limit}&offset=${offset}`\n    );\n\n    // Set up tts\n    if (\"speechSynthesis\" in window) {\n      this.setState({ tts: window.speechSynthesis });\n    }\n  }\n\n  getPokemon(url) {\n    this.setState({ isLoading: true });\n    fetch(url)\n      .then(res => res.json())\n      .then(res => {\n        this.setState({\n          selectionList: res.results,\n          prevURL: res.previous,\n          nextURL: res.next\n        });\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  }\n\n  getDetailedStats(url) {\n    this.setState({ isLoading: true });\n    fetch(url)\n      .then(res => res.json())\n      .then(res => {\n        this.setState({ selected: res });\n        this.getPokedexEntry(res.species.url);\n        // Get the species and the pokedex entry\n      })\n      .catch(error => this.setState({ error }));\n  }\n\n  getPokedexEntry(speciesURL, lang) {\n    this.setState({ isLoading: true });\n    fetch(speciesURL)\n      .then(res => res.json())\n      .then(species => {\n        const entries = species.flavor_text_entries;\n        const filtered = entries.filter(entry => entry.language.name === \"en\");\n        const genera = species.genera.filter(entry => entry.language.name === \"en\");\n        this.setState({\n          description: filtered[0].flavor_text,\n          genus: genera[0].genus\n        });\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  }\n\n  onSelect(pokemon) {\n    this.getDetailedStats(pokemon.url);\n  }\n\n  onToggleVoice(voice) {\n    // If the voice is toggled off, stop the voice completely\n    if (!voice) {\n      this.state.tts.cancel();\n    }\n    this.setState({ voice }); \n  }\n  \n  next() { // Set the offset and limit based on the URL const url = new URL(this.state.nextURL); const params = url.searchParams;\n    const url = new URL(this.state.nextURL);\n    const params = url.searchParams;\n    const limit = params.get(\"limit\");\n    const offset = params.get(\"offset\");\n    this.setState({ offset, limit });\n    this.getPokemon(this.state.nextURL);\n  }\n\n  prev() {\n    const url = new URL(this.state.prevURL);\n    const params = url.searchParams;\n    const limit = params.get(\"limit\");\n    const offset = params.get(\"offset\");\n    this.setState({ offset, limit });\n    this.getPokemon(this.state.prevURL);\n  }\n\n  speak(text) {\n    const { tts, voice } = this.state;\n    tts.cancel();\n    if (voice) {\n      const utterance = new SpeechSynthesisUtterance(text);\n      tts.speak(utterance);\n    }\n  }\n\n  render() {\n    const {\n      selected,\n      selectionList,\n      error,\n      isLoading,\n      offset,\n      limit,\n      prevURL,\n      description,\n      tts,\n      genus\n    } = this.state;\n\n    /* \n    The pokedex can have one of two views, the first view is a selection \n    on the right side of the screen, with a portrait of the pokemon on\n    the left side. The second view is invoked when the user \"clicks\" on \n    the pokemon from the scroll list. This view is a horizontal split\n    wherein, on the top is an image of the pokemon, along with some stats.\n    The bottom portion is the description of the pokemon. This view is \n    very similar to the Gen 1 pokedex in the Pokemon games.\n    */\n\n    return (\n      <div className=\"App\">\n        <main className=\"mt-4\">\n          {/* First, if there's an error, display it */}\n          {error && <p>{error}</p>}\n\n          <Container>\n            <Row>\n              <Col md={6}>\n                {/* When a pokemon is selected, display the details here */}\n                {isLoading && <div className=\"loader\"></div>}\n                {selected && !isLoading && (\n                  <div style={{ padding: \"1em\" }}>\n                    <h3>\n                      <Badge variant=\"primary\">#{selected.id}</Badge>\n                      <span className=\"ml-2 text-capitalize\">\n                        {selected.name}\n                      </span>\n                    </h3>\n                    {/* Display the type or types */}\n                    {selected.types.map((typedef, i) => (\n                      <TypePill key={i} type={typedef.type.name} />\n                    ))}\n                    <p className=\"text-muted mt-3\">\n                      {+selected.height * 10} cm / {+selected.weight / 10} kg\n                    </p>\n\n                    <p className=\"text-justify\">\n                      {description}\n                      {this.speak(`${selected.name}. The ${genus}. ${description}`)}\n                    </p>\n\n                    <img\n                      src={selected.sprites.front_default}\n                      alt={`${selected.name} normal form`}\n                    />\n                    <img\n                      src={selected.sprites.front_shiny}\n                      alt={`${selected.name} shiny form`}\n                    />\n                  </div>\n                )}\n              </Col>\n              <Col md={6}>\n                <p className=\"text-muted text-uppercase\">\n                  Displaying {+offset} - {+offset + +limit}\n                </p>\n\n                {/*\n                For each pokemon that should be shown (there should be a max\n                limit) display them in a list \n                */}\n                {selectionList && (\n                  <Selector\n                    data={selectionList}\n                    onSelectPokemon={pokemon => this.onSelect(pokemon)}\n                    onToggleVoice={voice => this.onToggleVoice(voice)}\n                    offset={+offset}\n                  />\n                )}\n\n                {/*\n                There should be a scroll up and scroll down action available, doing so should\n                grab the next \"page\" of Pokemon from the API\n              */}\n                <div className=\"mt-3\">\n                  <Button\n                    className=\"mr-2\"\n                    onClick={() => this.prev()}\n                    variant=\"text\"\n                    disabled={!prevURL}\n                  >\n                    Last page\n                  </Button>\n                  <Button onClick={() => this.next()} variant=\"text\">\n                    Next page\n                  </Button>\n                </div>\n              </Col>\n            </Row>\n          </Container>\n        </main>\n\n        <footer className=\"mt-5\">\n          <Container>\n            <Row>\n              <Col>\n                <p className=\"text-center text-muted\">\n                  Built by <a href=\"https://twitter.com/devnoot\">devnoot</a>{\" \"}\n                  using <a href=\"https://pokespi.co\">PokeAPI</a>\n                </p>\n              </Col>\n            </Row>\n          </Container>\n        </footer>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}